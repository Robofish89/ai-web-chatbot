<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Val de Vie Assistant (Demo)</title>

  <!-- n8n widget CSS -->
  <link href="https://cdn.jsdelivr.net/npm/@n8n/chat@latest/dist/style.css" rel="stylesheet" />

  <!-- Global + Client CSS (relative paths for GitHub Pages) -->
  <link rel="stylesheet" href="../../brand.css" />
  <link rel="stylesheet" href="../../themes/val-de-vie.css?v=20" />
</head>
<body>
  <!-- UMD target; the widget will mount inside here -->
  <div id="n8n-chat"></div>

  <script>
    // Configure BEFORE loading the UMD script
    window.ChatWidgetConfig = {
      target: "#n8n-chat",
      webhook: {
        url: "https://n8n.recoverykings.co/webhook/edb8bf04-91b6-420c-b119-a9d24cd8d4d3/chat",
        route: "general"
      },
      // Greeting (some versions accept either of these):
      initialMessages: [
        { role: "assistant", text: "Welcome to Val de Vie Properties! How can I help you today?" }
      ],
      initialMessage: "Welcome to Val de Vie Properties! How can I help you today?",
      placeholder: "Type your message hereâ€¦",
      position: "bottom-right",
      header: { title: "Val de Vie Properties" },
      openOnLoad: true
    };
  </script>

  <!-- UMD loader with fallback (guarantees file is found) -->
  <script src="https://cdn.jsdelivr.net/npm/@n8n/chat@latest/dist/index.umd.js"
          onerror="var s=document.createElement('script');s.src='https://unpkg.com/@n8n/chat@latest/dist/index.umd.js';document.body.appendChild(s);">
  </script>
</body>
</html>
